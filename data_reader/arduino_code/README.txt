I'm not using any of this arduino code, but I think I'd keep it here for future reference.